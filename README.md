# Задание 1 "Модуль `sys`"

## Выполните задания в каждом из файлов `Task#.py`.

Краткая справка по модулю `sys` ниже, полная документация доступна [здесь](https://docs.python.org/3/library/sys.html).

## Модуль `sys`

Модуль `sys` в Python предоставляет различные функции и переменные, которые используются для управления различными частями среды выполнения Python. Он позволяет работать с интерпретатором, поскольку обеспечивает доступ к переменным и функциям, которые тесно взаимодействуют с интерпретатором. 

### `sys.version`
В этом примере используется `sys.version`, который возвращает строку, содержащую версию интерпретатора Python с некоторой дополнительной информацией. Это показывает, как модуль `sys` взаимодействует с интерпретатором.

```py
>>> import sys
>>> print(sys.version)
3.6.9 (default, Oct  8 2020, 12:12:24) 
[GCC 8.4.0]
```

### Ввод и вывод с использованием Python `sys`
Модули `sys` предоставляют переменные для лучшего контроля над вводом и выводом. Мы даже можем перенаправить ввод и вывод на другие устройства. Это можно сделать, используя три переменные: 

- `stdin` - стандартный ввод
- `stdout` - стандартный вывод
- `stderr`

#### Чтение из `stdin` в Python
`stdin`: его можно использовать для получения входных данных напрямую из командной строки. Он используется для стандартного ввода. Он внутренне вызывает метод input(). Он также автоматически добавляет '\n' после каждого предложения.

**Пример**:

Этот код считывает строки из стандартного ввода до тех пор, пока пользователь не введет «q» . Для каждой строки печатается «Input:», за которым следует строка. Наконец, он печатает Exit.

```python
import sys
for line in sys.stdin: 
    if 'q' == line.rstrip(): 
        break
    print(f'Input : {line}') 
print("Exit") 
```

#### Метод Python `sys.stdout`

`stdout`: встроенный файловый объект, аналогичный стандартному потоку вывода интерпретатора в Python. `stdout` используется для отображения вывода непосредственно на экранной консоли. Вывод может быть любой формы, он может быть выведен из оператора печати, оператора выражения и даже приглашения для ввода. По умолчанию потоки находятся в текстовом режиме. Фактически, где бы в коде ни вызывалась функция печати, она сначала записывается в `sys.stdout`, а затем на экран. 

**Пример**:

Этот код выведет строку «Sirius» на стандартный вывод. Объект представляет стандартный поток вывода, и метод записывает в поток указанную строку.`sys.stdout write()`

```python 
import sys
sys.stdout.write('Sirius')
```

#### функция stderr в Python
stderr: всякий раз, когда в Python возникает исключение, оно записывается в `sys.stderr`. 

**Пример**:

Этот код выведет строку «Hello World» в стандартный поток ошибок.

   
```python
import sys
def print_to_stderr(*a): 
    print(*a, file = sys.stderr) 
 
print_to_stderr("Hello World")
```

### Аргументы командной строки
Аргументы командной строки — это те, которые передаются во время вызова программы вместе с оператором вызова. Чтобы добиться этого с помощью модуля `sys`, модуль `sys` предоставляет переменную с именем `sys.argv`. Его основная цель:

- Это список аргументов командной строки.
- `len(sys.argv)` предоставляет количество аргументов командной строки.
- `sys.argv[0]` — это имя текущего скрипта Python.

**Пример**: рассмотрим программу сложения чисел, в которой числа передаются вместе с оператором вызова.

Этот код вычисляет сумму аргументов командной строки, переданных скрипту Python. Он импортирует модуль `sys` для доступа к аргументам командной строки, а затем перебирает аргументы, преобразуя каждый из них в целое число и добавляя его к промежуточному итогу. Наконец, он печатает общую сумму аргументов.
 
```python
import sys
n = len(sys.argv)
print("Total arguments passed:", n)
print("\nName of Python script:", sys.argv[0])
print("\nArguments passed:", end = " ")
for i in range(1, n):
    print(sys.argv[i], end = " ")
Sum = 0
for i in range(1, n):
    Sum += int(sys.argv[i])
     
print("\n\nResult:", Sum)
```

### Выход из программы
`sys.exit([arg])` можно использовать для выхода из программы. 

Необязательный аргумент `arg` может быть целым числом, указывающим выход или другой тип объекта. Если это целое число, ноль считается **«успешным завершением»**.

*Примечание. Строку также можно передать методу `sys.exit()`.*

**Пример**: 

Этот код проверяет, меньше ли возраст 18 лет. Если да, он выходит из программы с сообщением «Возраст меньше 18 лет». В противном случае выводится сообщение «Возраст не менее 18» . Функция принимает в качестве аргумента необязательное сообщение, которое отображается при выходе из программы.`sys`.exit()

   
```python
import sys
age = 17
if age < 18: 
    sys.exit("Возраст меньше 18 лет")     
else: 
    print("Возраст не менее 18") 
```

### Работа с модулями
`sys.path` — это встроенная переменная в модуле `sys`, которая возвращает список каталогов, в которых интерпретатор будет искать необходимый модуль. 

Когда модуль импортируется в файл Python, интерпретатор сначала ищет указанный модуль среди своих встроенных модулей. Если он не найден, он просматривает список каталогов, определенных `sys.path`.

*Примечание. `sys.path` — это обычный список, которым можно манипулировать.*

**Пример 1. Перечисление всех путей**

Этот код выведет системные пути, которые Python использует для поиска модулей. Список `sys.path` содержит каталоги, в которых Python будет искать модули при их импорте.

   
```python
import sys
print(sys.path)
```

**Пример 2. Усечение значения `sys.path`**

Этот код выведет сообщение об ошибке, поскольку модуля `pandas` нет в списке `sys.path`. Установив `sys.path` в пустой список, код фактически отключает способность Python находить какие-либо модули.

```python
import sys
sys.path = []
import pandas
```
Вывод:
```console
ModuleNotFoundError: No module named 'pandas'
```

`sys.modules` возвращает имена модулей Python, импортированных текущей оболочкой.

**Пример**:

Этот код распечатает словарь всех модулей, импортированных текущим интерпретатором Python. Ключи словаря — это имена модулей, а значения словаря — объекты модуля.

   
```python
import sys
print(sys.modules)
```

### Количество ссылок
Метод `sys.getrefcount()` используется для получения счетчика ссылок для любого заданного объекта. Счетчик ссылок объекта — это количество раз, когда на него ссылаются другие объекты. Объект подвергается сборке мусора, когда его счетчик ссылок достигает 0, что означает, что на него больше не ссылаются никакие другие объекты.

**Пример**:

Этот код печатает счетчик ссылок объекта `a`. 

```python
import sys
a = 'Sirius'
print(sys.getrefcount(a))
```

### Дополнительные функции Python `sys`

Функция | Описание
--- | ---
`sys.setrecursionlimit()` | Метод `sys.setrecursionlimit()` используется для установки требуемого предела максимальной глубины стека интерпретатора Python.
`sys.getrecursionlimit()` | Метод `sys.getrecursionlimit()` используется для определения текущего предела рекурсии интерпретатора или для определения максимальной глубины стека интерпретатора Python.
`sys.settrace()` | Он используется для реализации отладчиков, профилировщиков и инструментов покрытия. Это зависит от потока и должно регистрировать трассировку с помощью `threading.settrace()`. На более высоком уровне `sys.settrace()` регистрирует обратную трассировку интерпретатора Python.
`sys.setswitchinterval()` | Метод `sys.setswitchinterval()` используется для установки интервала переключения потоков интерпретатора (в секундах).
`sys.maxsize()` | Он извлекает наибольшее значение, которое может хранить переменная типа данных Py_ssize_t.
`sys.maxint` | `maxint/INT_MAX` обозначает наибольшее значение, которое может быть представлено целым числом.
`sys.getdefaultencoding()` | Метод `sys.getdefaultencoding()` используется для получения текущей кодировки строки по умолчанию, используемой реализацией Unicode.